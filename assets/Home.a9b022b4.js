import{u as A,c as B,r as n,a as F,o,b as l,d as t,w as p,v as w,F as b,e as g,f as U,g as E,h as M,t as r,i as N,j as y}from"./index.e1aa7157.js";import{u as R}from"./dateFormat.75264eca.js";const I={key:0,class:"container py-10 mx-auto dark:text-gray-900"},q={class:"grid max-w-2xl grid-cols-1 gap-2 mx-auto my-2 sm:grid-cols-3"},z={class:"space-y-1 bg-white form-control"},G=t("label",{for:"subject",class:"label"},"Select Subject",-1),H=t("option",{value:"",selected:""},"All",-1),J=["value"],K={class:"space-y-1 form-control"},O=t("label",{class:"label"},"Select Chapter",-1),P=t("option",{value:"",selected:""},"All",-1),Q=["value"],W={class:"space-y-1 form-control"},X=t("label",{class:"label"},"Search...",-1),Y={class:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3"},Z={class:"text-xl font-semibold text-red-500"},$={class:"text-lg font-semibold"},ee={class:"text-lg font-semibold"},te={class:"text-lg font-semibold"},se={class:"py-2"},ae=t("p",{class:"font-semibold"},"Start Time",-1),oe={class:"text-sm"},le={class:"flex justify-center gap-3 mt-5"},ce=["href"],ne=["href"],re={key:1,class:"py-10 text-center"},ue=t("button",{class:"btn btn-primary btn-circle loading"},null,-1),ie=[ue],me={setup(de){const j=A(),C=B(()=>j.state.currentTime);n({show:!1,data:{}});const S=F();localStorage.getItem("medi22")||S.replace({name:"Login"});const c=n([]);let h=[];const f=n(new Set),i=n(""),k=n([]),u=n([]),v=n([]),_=n(""),m=n("");(()=>{E.get(M+"routine").then(s=>{c.value=s.data.routines,u.value=s.data.routines,c.value.forEach((a,e)=>{a.upore_thakbo=c.value[e+1]?c.value[e+1].start_time:new Date(c.value[e].start_time)+1e3*60*60*2,a.subject&&f.value.add(a.subject),a.chapter&&v.value.push(a.chapter),new Date(a.upore_thakbo).getTime()>=C.value&&h.length<2&&h.push(a)}),k.value=h}).catch(s=>{console.error(s)})})();const L=()=>{u.value=c.value.filter(s=>s.subject.toLowerCase().includes(i.value.toLowerCase())&&s.chapter.toLowerCase().includes(_.value.toLowerCase())&&s.topic.toLowerCase().includes(m.value.toLowerCase()))},D=()=>{u.value=c.value.filter(s=>s.subject.includes(i.value)),v.value=u.value.map(s=>s.chapter)},T=()=>{u.value=c.value.filter(s=>s.chapter.includes(_.value)&&s.subject.includes(i.value))},x=s=>[...s].sort(),{formattedDate:V}=R();return(s,a)=>c.value.length>0?(o(),l("div",I,[t("div",q,[t("div",z,[G,p(t("select",{name:"subject",onChange:D,"onUpdate:modelValue":a[0]||(a[0]=e=>i.value=e),id:"subject",class:"w-full mx-auto bg-white select select-bordered"},[H,(o(!0),l(b,null,g(x(f.value),(e,d)=>(o(),l("option",{key:d,value:e},r(e),9,J))),128))],544),[[w,i.value]])]),t("div",K,[O,p(t("select",{name:"subject",onChange:T,"onUpdate:modelValue":a[1]||(a[1]=e=>_.value=e),class:"w-full mx-auto bg-white select select-bordered"},[P,(o(!0),l(b,null,g(x([...new Set(v.value)]),(e,d)=>(o(),l("option",{key:d,value:e},r(e),9,Q))),128))],544),[[w,_.value]])]),t("div",W,[X,p(t("input",{type:"text",class:"bg-white input input-bordered",placeholder:"Search...",onChange:L,"onUpdate:modelValue":a[2]||(a[2]=e=>m.value=e)},null,544),[[U,m.value]])])]),t("div",Y,[(o(!0),l(b,null,g(u.value,(e,d)=>(o(),l("div",{class:"p-2 space-y-2 text-center shadow shadow-gray-300 bg-gray-50 rounded-xl",key:d},[t("h1",Z,r(e.topic),1),t("h1",$,r(e.subject),1),t("h1",ee,r(e.chapter),1),t("h1",te,r(e.instructor),1),t("div",se,[ae,t("p",oe,r(N(V)(new Date(e.start_time))),1)]),t("div",le,[e.video_link?(o(),l("a",{key:0,href:e.video_link,target:"_blank",class:"btn btn-sm"},"Recorded Class",8,ce)):y("",!0),e.lecture_slide?(o(),l("a",{key:1,href:e.lecture_slide,target:"_blank",class:"btn btn-sm"},"Lecture Slide",8,ne)):y("",!0)])]))),128))])])):(o(),l("div",re,ie))}};export{me as default};
